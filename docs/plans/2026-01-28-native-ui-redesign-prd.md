# Label Control Native UI Redesign PRD

## Overview

å°‡ Label Control å‰ç«¯é¢æ¿é‡æ–°è¨­è¨ˆç‚ºåŸç”Ÿ Home Assistant Home é é¢é¢¨æ ¼ã€‚

## ç›®æ¨™

- èˆ‡ HA åŸç”Ÿ Home é é¢è¦–è¦ºä¸€è‡´
- æä¾›æ‘˜è¦å€å¡Šå¿«é€ŸæŸ¥çœ‹å„ domain ç‹€æ…‹
- Label å¡ç‰‡æ¡ç”¨æ–¹å½¢è¨­è¨ˆï¼Œå±•ç¤ºåœ–ç¤ºã€åç¨±ã€entity æ•¸é‡

## è¨­è¨ˆè¦æ ¼

### 1. é é¢çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  Label Control              â‹®    â”‚  â† Header Bar (56px)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‘˜è¦                                â”‚  â† Section Title
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ğŸ”† ç‡ˆå…‰   â”‚ â”‚ğŸŒ¡ï¸ æº«æ§   â”‚            â”‚  â† æ©«æ¢æ‘˜è¦å¡ç‰‡ (2æ¬„)
â”‚ â”‚ 3 é–‹å•Ÿ   â”‚ â”‚18-23Â°   â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ğŸ”’ ä¿å…¨   â”‚ â”‚ğŸ“º åª’é«”   â”‚            â”‚
â”‚ â”‚ å·²å•Ÿç”¨   â”‚ â”‚ ç„¡æ’­æ”¾   â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨™ç±¤                                â”‚  â† Section Title
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚  ğŸ·ï¸   â”‚ â”‚  ğŸ·ï¸   â”‚ â”‚  ğŸ·ï¸   â”‚     â”‚  â† æ–¹å½¢ Label å¡ç‰‡ (3æ¬„)
â”‚ â”‚ å·¥ä½œå€ â”‚ â”‚ å¨›æ¨‚å€ â”‚ â”‚ ä¼‘æ¯å€ â”‚     â”‚
â”‚ â”‚ 5 å€‹   â”‚ â”‚ 3 å€‹   â”‚ â”‚ 8 å€‹   â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ‘˜è¦å€å¡Š (Summary Section)

**æ¨£å¼ï¼šæ©«æ¢å¡ç‰‡**
- ä½ˆå±€ï¼š2 æ¬„ç¶²æ ¼
- é«˜åº¦ï¼šç´„ 56px
- èƒŒæ™¯ï¼š`rgba(255, 255, 255, 0.05)`
- åœ“è§’ï¼š12px
- å…§å®¹ï¼š
  - å·¦å´ï¼šDomain åœ–ç¤º (40px åœ“å½¢èƒŒæ™¯)
  - å³å´ï¼šDomain åç¨± + ç‹€æ…‹æè¿°

**é¡¯ç¤ºçš„ Domainsï¼š**
| Domain | åœ–ç¤º | ç‹€æ…‹é¡¯ç¤º |
|--------|------|----------|
| light | mdi:lightbulb | X é–‹å•Ÿ / å…¨éƒ¨é—œé–‰ |
| climate | mdi:thermostat | æº«åº¦ç¯„åœ / é—œé–‰ |
| cover | mdi:window-shutter | X é–‹å•Ÿ / å…¨éƒ¨é—œé–‰ |
| fan | mdi:fan | X é–‹å•Ÿ / å…¨éƒ¨é—œé–‰ |
| media_player | mdi:cast | æ’­æ”¾ä¸­ / ç„¡æ’­æ”¾ |
| lock | mdi:lock | å·²é–å®š / X æœªé– |
| switch | mdi:toggle-switch | X é–‹å•Ÿ / å…¨éƒ¨é—œé–‰ |
| sensor | mdi:eye | X å€‹æ„Ÿæ¸¬å™¨ |

**é¡è‰²ï¼š**
- åœ–ç¤ºé¡è‰²æ ¹æ“š domain ä½¿ç”¨å“ç‰Œè‰²
- æœ‰æ´»å‹•æ™‚èƒŒæ™¯å¾®äº®

### 3. æ¨™ç±¤å€å¡Š (Labels Section)

**æ¨£å¼ï¼šæ–¹å½¢å¡ç‰‡**
- ä½ˆå±€ï¼š3 æ¬„ç¶²æ ¼ (mobile 2 æ¬„)
- å°ºå¯¸ï¼šç´„ 120px x 140px
- èƒŒæ™¯ï¼š`rgba(255, 255, 255, 0.05)`
- åœ“è§’ï¼š12px
- å…§å®¹ï¼š
  - ä¸Šæ–¹ï¼šLabel åœ–ç¤º (48px åœ“å½¢èƒŒæ™¯)
  - ä¸­é–“ï¼šLabel åç¨±
  - ä¸‹æ–¹ï¼šEntity æ•¸é‡ / ç‹€æ…‹

**åœ–ç¤ºï¼š**
- ä½¿ç”¨ Label çš„ `icon` å±¬æ€§
- ç„¡åœ–ç¤ºæ™‚ä½¿ç”¨ `mdi:label`
- åœ–ç¤ºé¡è‰²ä½¿ç”¨ Label çš„ `color` å±¬æ€§

### 4. Label è©³æƒ…é 

é»æ“Š Label å¡ç‰‡å¾Œé€²å…¥è©³æƒ…é ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†  [Label Name]               â‹®    â”‚  â† Header é¡¯ç¤ºè¿”å›æŒ‰éˆ•
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç‡ˆå…‰                          â–¼    â”‚  â† Domain Section (å¯æ”¶åˆ)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ Entity  â”‚ â”‚ Entity  â”‚            â”‚  â† Entity Tiles
â”‚ â”‚  Tile   â”‚ â”‚  Tile   â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é–‹é—œ                          â–¼    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ...                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. CSS è®Šæ•¸ (HA Native)

```css
/* èƒŒæ™¯è‰² */
--primary-background-color
--secondary-background-color
--card-background-color

/* æ–‡å­—è‰² */
--primary-text-color
--secondary-text-color

/* Header */
--app-header-background-color
--app-header-text-color
--divider-color

/* äº’å‹• */
--state-icon-color
--state-icon-active-color
```

### 6. éŸ¿æ‡‰å¼è¨­è¨ˆ

| æ–·é» | æ‘˜è¦æ¬„æ•¸ | æ¨™ç±¤æ¬„æ•¸ | Entity æ¬„æ•¸ |
|------|----------|----------|-------------|
| < 600px | 1 | 2 | 2 |
| 600-1024px | 2 | 3 | 3 |
| > 1024px | 2 | 4 | 4 |

## æŠ€è¡“å¯¦ä½œ

### å…ƒä»¶çµæ§‹

```
ha-label-control-panel (ä¸»é¢æ¿)
â”œâ”€â”€ SummaryCard (æ‘˜è¦æ©«æ¢å¡ç‰‡)
â”œâ”€â”€ LabelCard (æ¨™ç±¤æ–¹å½¢å¡ç‰‡)
â”œâ”€â”€ DomainSection (Domain åˆ†çµ„å€å¡Š)
â””â”€â”€ EntityTile (Entity ç£šå¡Š)
    â”œâ”€â”€ LightTile
    â”œâ”€â”€ SwitchTile
    â”œâ”€â”€ ClimateTile
    â””â”€â”€ ...
```

### è³‡æ–™æµ

1. è¼‰å…¥æ™‚å‘¼å« `label_control/get_labels` å–å¾—æ‰€æœ‰ Labels
2. çµ±è¨ˆå„ domain çš„ entity ç‹€æ…‹ç”¨æ–¼æ‘˜è¦
3. é»æ“Š Label å‘¼å« `label_control/get_label_entities` å–å¾—é—œè¯ entities
4. Entity æ“ä½œé€é `hass.callService()` åŸ·è¡Œ

## é©—æ”¶æ¨™æº–

- [ ] æ‘˜è¦å€å¡Šé¡¯ç¤ºå„ domain çµ±è¨ˆ (æ©«æ¢æ¨£å¼)
- [ ] Label å¡ç‰‡ç‚ºæ–¹å½¢è¨­è¨ˆï¼Œé¡¯ç¤ºåœ–ç¤ºã€åç¨±ã€æ•¸é‡
- [ ] æ”¯æ´æ·±è‰²/æ·ºè‰²ä¸»é¡Œ
- [ ] éŸ¿æ‡‰å¼ä½ˆå±€æ­£å¸¸
- [ ] Entity Tiles å¯æ­£å¸¸æ§åˆ¶è£ç½®
- [ ] é»æ“Š Label å¯é€²å…¥è©³æƒ…é 
- [ ] è¿”å›æŒ‰éˆ•åŠŸèƒ½æ­£å¸¸
